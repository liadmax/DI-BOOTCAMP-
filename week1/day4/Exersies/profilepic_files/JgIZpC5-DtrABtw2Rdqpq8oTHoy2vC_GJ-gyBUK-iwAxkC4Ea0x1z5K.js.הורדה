if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("LSExecuteFinallyBlockForSyncTransaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.seq([function(c){return b.fe(b.ftr(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var e=c.update;c=c.item;return e({epochId:!a[0]&&b.i64.eq(c.failureCount,[-1,4294967295])?c.epochId:d,failureCount:b.i64.eq(c.failureCount,[-1,4294967295])?[0,0]:b.i64.add(c.failureCount,[0,1])})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.bs"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(f){return c.seq([function(a){return c.resolve()},function(e){return c.ftr(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.seq([function(e){return function(a){c.logger(a).mustfix(a)}(["epoch mismatch",",",c.i64.to_string(a[0])].join("")),d[2]=new c.Map(),d[2].set("database_id",a[0]),d[2].set("epoch_id",a[1]),d[2].set("sync_status",a[4]),d[2].set("next_cursor",a[3]),d[2].set("error_msg","epoch mismatch"),a[9]?d[3]=!1:d[3]=!0,d[3]?c.resolve():(d[5]=a[9].keys(),d[6]=c.i64.of_int32(d[5].length),c.i64.gt(d[6],[0,0])?c.loopAsync(d[6],function(e){return d[7]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[5],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return d[10]=a[9].get(d[8]),a[9],d[2].set(d[8],d[10])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.bs"),[0,16],[0,35],[0,0],d[2])},function(a){return d[4]=!1,d[0]=d[4]}]):(e.item,c.seq([function(e){return c.ftr(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.seq([function(e){return function(a){c.logger(a).mustfix(a)}(["cursor mismatch",",",c.i64.to_string(a[0])].join("")),d[4]=new c.Map(),d[4].set("database_id",a[0]),d[4].set("epoch_id",a[1]),d[4].set("sync_status",a[4]),d[4].set("next_cursor",a[3]),d[4].set("error_msg","cursor mismatch"),a[9]?d[5]=!1:d[5]=!0,d[5]?c.resolve():(d[7]=a[9].keys(),d[8]=c.i64.of_int32(d[7].length),c.i64.gt(d[8],[0,0])?c.loopAsync(d[8],function(e){return d[9]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[7],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(b){return d[12]=a[9].get(d[10]),a[9],d[4].set(d[10],d[12])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.bs"),[0,16],[0,35],[0,0],d[4])},function(a){return d[6]=!1,d[2]=d[6]}]):(e.item,c.seq([function(b){return c.fe(c.db.table(1).fetch([[[a[0]]]]),function(b){var d=b.update;b.item;return d({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],[0,0])?[0,0]:c.i64.add(c.i64.of_float(Date.now()),a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:c.i64.of_float(Date.now())})})},function(b){return c.fe(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:[-1,4294967295]})})},function(e){return d[4]=new c.Map(),d[4].set("database_id",a[0]),d[4].set("epoch_id",a[1]),d[4].set("sync_status",a[4]),d[4].set("next_cursor",a[3]),a[9]?d[5]=!1:d[5]=!0,d[5]?c.resolve():(d[7]=a[9].keys(),d[8]=c.i64.of_int32(d[7].length),c.i64.gt(d[8],[0,0])?c.loopAsync(d[8],function(e){return d[9]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[7],d[9]).then(function(a){return a=a,d[10]=a[0],d[11]=a[1],a})},function(b){return d[12]=a[9].get(d[10]),a[9],d[4].set(d[10],d[12])}])}):c.resolve())},function(a){return c.nop(b("LSLogEventAnnotate.bs"),[0,16],[0,35],[0,0],d[4])},function(a){return d[6]=!0,d[2]=d[6]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSGetFirstAvailableAttachmentCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(19).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.ctaId,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertAttachmentItem",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(18).add({attachmentFbid:a[0],attachmentIndex:a[1],threadKey:a[2],messageId:a[4],defaultActionEnableExtensions:a[30],originalPageSenderId:a[7],titleText:a[8],subtitleText:a[9],playableUrl:a[12],playableUrlFallback:a[13],playableUrlExpirationTimestampMs:a[14],playableUrlMimeType:a[15],dashManifest:a[16],previewUrl:a[17],previewUrlFallback:a[18],previewUrlExpirationTimestampMs:a[19],previewUrlMimeType:a[20],previewWidth:a[21],previewHeight:a[22],imageUrl:a[23],defaultCtaId:a[24],defaultCtaTitle:a[25],defaultCtaType:a[26],defaultButtonType:a[28],defaultActionUrl:a[29],defaultWebviewHeightRatio:a[32],attachmentCta1Id:a[34],cta1Title:a[35],cta1Type:a[36],attachmentCta2Id:a[38],cta2Title:a[39],cta2Type:a[40],attachmentCta3Id:a[42],cta3Title:a[43],cta3Type:a[44],faviconUrl:a[45],faviconUrlFallback:a[46],faviconUrlExpirationTimestampMs:a[47],previewUrlLarge:a[48]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertBlobAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[27],a[32],a[34]]]]),function(c){return b.i64.eq(c.threadKey,a[27])&&b.i64.eq([0,0],a[28])&&c.messageId===a[32]&&c.attachmentFbid===a[34]&&b.i64.lt(c.authorityLevel,a[48])&&(b.i64.eq(c.attachmentType,[0,2])||b.i64.eq(c.attachmentType,[0,3])||b.i64.eq(c.attachmentType,[0,4])||b.i64.eq(c.attachmentType,[0,5])||b.i64.eq(c.attachmentType,[0,6])||b.i64.eq(c.attachmentType,[0,10]))&&b.i64.eq(c.ephemeralMediaState,d)&&c.isSharable===!1}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[27],messageId:a[32],attachmentFbid:a[34],filename:a[0],filesize:a[1],hasMedia:a[2],isSharable:!1,playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],dashManifest:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],miniPreview:a[13],previewWidth:a[14],previewHeight:a[15],attributionAppId:a[16],attributionAppName:a[17],attributionAppIcon:a[18],attributionAppIconFallback:a[19],attributionAppIconUrlExpirationTimestampMs:a[20],localPlayableUrl:a[21],playableDurationMs:a[22],attachmentIndex:a[23],accessibilitySummaryText:a[24],isPreviewImage:a[25],originalFileHash:a[26],attachmentType:a[29],timestampMs:a[31],offlineAttachmentId:a[33],hasXma:a[35],xmaLayoutType:a[36],xmasTemplateType:a[37],titleText:a[38],subtitleText:a[39],descriptionText:a[40],sourceText:a[41],faviconUrlExpirationTimestampMs:a[42],isBorderless:a[44],previewUrlLarge:a[45],samplingFrequencyHz:a[46],waveformData:a[47],authorityLevel:a[48]})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertXmaAttachment",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[25],a[30],a[32]]]]),function(c){return b.i64.eq(c.threadKey,a[25])&&b.i64.eq([0,0],a[26])&&c.messageId===a[30]&&c.attachmentFbid===a[32]&&b.i64.lt(c.authorityLevel,a[106])&&(b.i64.eq(c.attachmentType,[0,7])||b.i64.eq(c.attachmentType,[0,0]))&&c.hasMedia===!1&&c.hasXma===!0&&b.i64.eq(c.ephemeralMediaState,d)}),function(a){return a["delete"]()})},function(c){return b.db.table(16).add({threadKey:a[25],messageId:a[30],attachmentFbid:a[32],filename:a[1],filesize:a[2],hasMedia:!1,isSharable:a[3],playableUrl:a[4],playableUrlFallback:a[5],playableUrlExpirationTimestampMs:a[6],playableUrlMimeType:a[7],previewUrl:a[8],previewUrlFallback:a[9],previewUrlExpirationTimestampMs:a[10],previewUrlMimeType:a[11],previewWidth:a[13],previewHeight:a[14],attributionAppId:a[15],attributionAppName:a[16],attributionAppIcon:a[17],attributionAppIconFallback:a[18],attributionAppIconUrlExpirationTimestampMs:a[19],attachmentIndex:a[20],accessibilitySummaryText:a[21],shouldRespectServerPreviewSize:a[22],subtitleIconUrl:a[23],shouldAutoplayVideo:a[24],attachmentType:a[27],timestampMs:a[29],offlineAttachmentId:a[31],hasXma:!0,xmaLayoutType:a[33],xmasTemplateType:a[34],defaultCtaId:a[35],defaultCtaTitle:a[36],defaultCtaType:a[37],attachmentCta1Id:a[39],cta1Title:a[40],cta1Type:a[41],attachmentCta2Id:a[43],cta2Title:a[44],cta2Type:a[45],attachmentCta3Id:a[47],cta3Title:a[48],cta3Type:a[49],imageUrl:a[50],imageUrlFallback:a[51],imageUrlExpirationTimestampMs:a[52],actionUrl:a[53],titleText:a[54],subtitleText:a[55],maxTitleNumOfLines:a[56],maxSubtitleNumOfLines:a[57],descriptionText:a[58],sourceText:a[59],faviconUrl:a[60],faviconUrlFallback:a[61],faviconUrlExpirationTimestampMs:a[62],listItemsId:a[64],listItemsDescriptionText:a[65],listItemsDescriptionSubtitleText:a[66],listItemsSecondaryDescriptionText:a[67],listItemId1:a[68],listItemTitleText1:a[69],listItemContactUrlList1:a[70],listItemProgressBarFilledPercentage1:a[71],listItemContactUrlExpirationTimestampList1:a[72],listItemContactUrlFallbackList1:a[73],listItemAccessibilityText1:a[74],listItemId2:a[75],listItemTitleText2:a[76],listItemContactUrlList2:a[77],listItemProgressBarFilledPercentage2:a[78],listItemContactUrlExpirationTimestampList2:a[79],listItemContactUrlFallbackList2:a[80],listItemAccessibilityText2:a[81],listItemId3:a[82],listItemTitleText3:a[83],listItemContactUrlList3:a[84],listItemProgressBarFilledPercentage3:a[85],listItemContactUrlExpirationTimestampList3:a[86],listItemContactUrlFallbackList3:a[87],listItemAccessibilityText3:a[88],isBorderless:a[92],headerImageUrlMimeType:a[93],headerTitle:a[94],headerImageUrl:a[95],headerImageUrlFallback:a[96],headerImageUrlExpirationTimestampMs:a[97],previewImageDecorationType:a[98],shouldHighlightHeaderTitleInTitle:a[99],targetId:a[100],attachmentLoggingType:a[103],previewUrlLarge:a[105],authorityLevel:a[106]})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSSetMessageTextHasLinks",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(a){var b=a.update;a.item;return b({textHasLinks:!0})})},function(a){return b.resolve(c)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSVerifyContactRowExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(e){var g=e.done;e.value;return g?c.seq([function(b){return d[0]=a[3]==null?"":a[3],c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])&&c.i64.lt(b.authorityLevel,a[14])}),function(a){return a["delete"]()})},function(b){return c.db.table(7).add({id:a[0],profilePictureUrl:a[2]==null?"":a[2],profilePictureFallbackUrl:a[5],name:d[0],secondaryName:a[20],normalizedNameForSearch:d[0],isMemorialized:a[9],blockedByViewerStatus:a[11],canViewerMessage:a[12],profilePictureLargeUrl:"",isMessengerUser:!0,rank:0,contactType:a[4],contactTypeExact:[0,0],requiresMultiway:!1,authorityLevel:a[14],workForeignEntityType:[0,0],capabilities:a[15],capabilities2:a[16],contactViewerRelationship:a[19],gender:a[18]})},function(e){return d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"cpq_v2",[0,207],d[2],f,f,[0,0],[0,0],f,f,[0,0])}]):0})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpsertReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(8).put({threadKey:a[0],messageId:a[2],actorId:a[3],timestampMs:a[1],reaction:a[4],authorityLevel:a[5]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2353962864732251"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWCMInboxHeaderCommunityGroupName.bs",["fbt","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.bs","MWCMThreadTypes.bs","MWCMUseFolder.bs","PresenceStatusContext","bs_caml","bs_caml_int64","bs_caml_obj","bs_curry","bs_int64","cr:183","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return a}var k=b("cr:183")==null?function(a){return b("bs_caml_int64").neg_one}:b("cr:183").useCMThreadCoPresence;function a(a){var c=a.thread;a=a.renderWrapper;a=a!==void 0?a:j;var d=b("MWCMUseFolder.bs").useHook(c),e=i.useContext(b("PresenceStatusContext")),f=b("bs_curry")._1(k,c);if(d===void 0)return null;var h=b("bs_caml_obj").caml_equal(c.cannotReplyReason,"broadcast_chat_read_only"),l=b("LSCommunityBitOffset.bs").has(b("LSCommunityCapabilityBitOffset.bs").manageMember,d);return b("bs_curry")._1(a,b("MWCMThreadTypes.bs").isBroadcastThread(c.threadType)&&!h?g._(/*FBT_CALL*/"\u05dc\u05e6\u05e4\u05d9\u05d9\u05d4 \u05e9\u05dc \u05d7\u05d1\u05e8\u05d9 \u05d4\u05e7\u05d1\u05d5\u05e6\u05d4 \u05d1\u05dc\u05d1\u05d3"/*FBT_CALL*/):b("MWCMThreadTypes.bs").isPrivateThread(c.threadType)?l?g._(/*FBT_CALL*/"\u05e4\u05e8\u05d8\u05d9"/*FBT_CALL*/):g._(/*FBT_CALL*/"Private | Invited members only"/*FBT_CALL*/):b("bs_caml").i64_gt(f,b("bs_caml_int64").zero)&&b("bs_curry")._1(e.getChatVisibility,void 0)?g._(/*FBT_CALL*/{"*":"{number of active members} members are active now","_1":"{number of active members} member are active now"}/*FBT_CALL*/,[g._plural(b("bs_caml_int64").to_int32(f)),g._param("number of active members",b("bs_int64").to_string(f))]):i.jsx(i.Fragment,{children:d.name}))}c=a;f.defaultRenderWrapper=j;f.$MWCMFetchPresence$requireCond=b("cr:183");f.useCMThreadCoPresence=k;f.make=c}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a=d("CometRelay").useLazyLoadQuery(i,{},{fetchPolicy:"store-or-network"});return(a==null?void 0:(a=a.viewer)==null?void 0:a.chat_visibility)===!0}g["default"]=a}),98);
__d("MWChatTypingIndicator.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c="rqt66bd7-B";d="j24gs3ss-B";var j={root:{alignItems:"bp9cbjyn",display:"j83agx80",height:"kmzbrmfl"},dot:{animationName:"d75kxgp9",animationDuration:"kv069q7b",animationIterationCount:"ee40wjg4",animationTimingFunction:"rr7aif1o",borderTopStartRadius:"s8bnoagg",borderTopEndRadius:"bn9qtmzc",borderBottomEndRadius:"hp05c5td",borderBottomStartRadius:"b6jg2yqc",display:"q9uorilb",height:"mw227v9j",marginEnd:"ditlmg2l",marginStart:"nvdbi5me",width:"loos5mxf",backgroundColor:"aph9nnby"},dot1:{animationDelay:"tv4077gy"},dot2:{animationDelay:"oeefd0zo"},dot3:{animationDelay:"dg03pwpq"},dotOpacity:{animation:"lgewrz6a",animationDuration:"kv069q7b",animationIterationCount:"ee40wjg4",animationTimingFunction:"rr7aif1o",opacity:"pedkr2u6"},dot1Opacity:{animationDelay:"iiswpqb6"},dot2Opacity:{animationDelay:"ar9bh3uw"},dot3Opacity:{animationDelay:"gnihhqrp"}};function a(a){return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.dotOpacity,j.dot1Opacity),children:i.jsx("div",{className:h(j.dot,j.dot1)})}),i.jsx("div",{className:h(j.dotOpacity,j.dot2Opacity),children:i.jsx("div",{className:h(j.dot,j.dot2)})}),i.jsx("div",{className:h(j.dotOpacity,j.dot3Opacity),children:i.jsx("div",{className:h(j.dot,j.dot3)})})]})}e=a;f.dotAnimation=c;f.opacityAnimation=d;f.styles=j;f.make=e}),null);
__d("LSContactIdType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.unknown=a;f.fbid=c;f.smsLocalId=d}),null);
__d("MWV2EnsureThatChatTabExists.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSDatabaseType.bs","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVerifyContactRowExists","LSVerifyThreadRowExists","Promise","bs_curry","cr:2889","promiseDone","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c){var d=b("useReStore")();h.useEffect(function(){var e=function(e){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c))return b("LSTransaction.bs").run(d,function(c){return b("LSVerifyContactRowExists")(a,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("LS.bs").make(c))},"readWrite");else return b("Promise").resolve(void 0)};b("promiseDone")(e(void 0).then(function(e){return!(b("cr:2889")==null)&&b("LSMessagingThreadTypeUtil.bs").isSecure(c)?b("bs_curry")._2(b("cr:2889").call,d,a):b("LSTransaction.bs").run(d,function(d){return b("LSVerifyThreadRowExists")(a,c,b("LSDatabaseType.bs").mailbox,b("LS.bs").make(d))},"readWrite")}),void 0,void 0)},[d,JSON.stringify(a),JSON.stringify(c)])}c=b("cr:2889");f.$MAWVerifyExistingThreadExists$requireCondXplat=b("cr:2889");f.mawVerifyExistingThreadExists=c;f.useHook=a}),null);/*FB_PKG_DELIM*/
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return a[1]&&c.i64.eq(a[6],[0,0])?c.i64.eq([0,0],a[0])?c.seq([function(a){return c.fe(c.db.table(198).fetch([[[[0,1]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(a){return d[0]=[0,0],d[1]=f,d[2]=!1,d[3]=!1,c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[4]=a.minLastActivityTimestampMs,d[6]=a.minThreadKey,d[5]=c.i64.lt(d[0]==null?d[4]:d[0],d[4]),d[0]=d[5]?d[4]:d[0],d[1]=d[5]?d[6]:d[1],d[2]=d[2]||a.isLoadingBefore,d[3]=d[3]||c.i64.gt(d[4],[0,1])&&c.i64.gt(d[6],[-2147483648,0])})},function(a){return c.fe(c.db.table(10).fetch([[[[0,0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[2]})})}]):c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})}):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(b){return d[11]=a[3]==null?[-2147483648,0]:a[3],d[10]=a[6]==null?[0,1]:a[6],d[12]=c.i64.gt(d[10],[0,1])&&c.i64.gt(d[11],[-2147483648,0]),c.i64.eq(a[0],[0,0])&&(c.i64.eq([0,1],[0,1])||c.i64.eq([0,1],[0,95]))?c.seq([function(a){return c.db.table(198).put({syncGroup:[0,1],minLastActivityTimestampMs:d[10],hasMoreBefore:d[12],isLoadingBefore:!0,minThreadKey:d[11]})},function(a){return d[13]=d[10],d[14]=d[11],d[15]=!0,d[16]=d[12],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[17]=a.minLastActivityTimestampMs,d[19]=a.minThreadKey,d[18]=c.i64.lt(d[13]==null?d[17]:d[13],d[17]),d[13]=d[18]?d[17]:d[13],d[14]=d[18]?d[19]:d[14],d[15]=d[15]||a.isLoadingBefore,d[16]=d[16]||c.i64.gt(d[17],[0,1])&&c.i64.gt(d[19],[-2147483648,0])})},function(a){return a=[d[13],d[14],d[15],d[16]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((b=[d[10],d[11],!0,d[12]],d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3],b))},function(a){return c.sp(b("LSGetCursor"),[0,1]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("is_after",a[2]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_thread_key",a[2]?a[4]:a[3]),d[5].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[5].set("additional_pages_to_fetch",a[7]),d[5].set("cursor",d[4]),d[5].set("messaging_tag",f),d[5].set("sync_group",[0,1]),c.i64.gt([0,0],[0,0])?d[6]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[6]=[0,0],d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",[0,145],d[7],f,f,[0,0],[0,0],f,f,d[6]).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[1]==null?[-2147483648,0]:d[1],minLastActivityTimestampMs:d[0]==null?[0,1]:d[0],maxLastActivityTimestampMs:[0,1],maxThreadKey:[-2147483648,0],isLoadingBefore:d[3],isLoadingAfter:!1,hasMoreBefore:d[3],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[2],isLoadingAfter:!1,hasMoreBefore:d[3],hasMoreAfter:!1})}))})}]):c.resolve()},function(e){return c.i64.eq(a[0],[0,0])?a[1]&&c.i64.eq(a[6],[0,0])?c.i64.eq([0,0],a[0])?c.seq([function(a){return c.fe(c.db.table(198).fetch([[[[0,95]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})})},function(a){return d[0]=[0,0],d[1]=f,d[2]=!1,d[3]=!1,c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[4]=a.minLastActivityTimestampMs,d[6]=a.minThreadKey,d[5]=c.i64.lt(d[0]==null?d[4]:d[0],d[4]),d[0]=d[5]?d[4]:d[0],d[1]=d[5]?d[6]:d[1],d[2]=d[2]||a.isLoadingBefore,d[3]=d[3]||c.i64.gt(d[4],[0,1])&&c.i64.gt(d[6],[-2147483648,0])})},function(a){return c.fe(c.db.table(10).fetch([[[[0,0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[2]})})}]):c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!1})}):(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)||a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))&&!(a[1]&&c.i64.neq(a[6],f)&&c.i64.neq(a[3],f)&&a[2]&&c.i64.neq(a[5],f)&&c.i64.neq(a[4],f))?c.seq([function(b){return d[11]=a[3]==null?[-2147483648,0]:a[3],d[10]=a[6]==null?[0,1]:a[6],d[12]=c.i64.gt(d[10],[0,1])&&c.i64.gt(d[11],[-2147483648,0]),c.i64.eq(a[0],[0,0])&&(c.i64.eq([0,95],[0,1])||c.i64.eq([0,95],[0,95]))?c.seq([function(a){return c.db.table(198).put({syncGroup:[0,95],minLastActivityTimestampMs:d[10],hasMoreBefore:d[12],isLoadingBefore:!0,minThreadKey:d[11]})},function(a){return d[13]=d[10],d[14]=d[11],d[15]=!0,d[16]=d[12],c.fe(c.db.table(198).fetch(),function(a){a=a.item;return d[17]=a.minLastActivityTimestampMs,d[19]=a.minThreadKey,d[18]=c.i64.lt(d[13]==null?d[17]:d[13],d[17]),d[13]=d[18]?d[17]:d[13],d[14]=d[18]?d[19]:d[14],d[15]=d[15]||a.isLoadingBefore,d[16]=d[16]||c.i64.gt(d[17],[0,1])&&c.i64.gt(d[19],[-2147483648,0])})},function(a){return a=[d[13],d[14],d[15],d[16]],d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3],a}]):c.resolve((b=[d[10],d[11],!0,d[12]],d[0]=b[0],d[1]=b[1],d[2]=b[2],d[3]=b[3],b))},function(a){return c.sp(b("LSGetCursor"),[0,95]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("is_after",a[2]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_thread_key",a[2]?a[4]:a[3]),d[5].set("reference_activity_timestamp",a[2]?a[5]:a[6]),d[5].set("additional_pages_to_fetch",a[7]),d[5].set("cursor",d[4]),d[5].set("messaging_tag",f),d[5].set("sync_group",[0,95]),c.i64.gt([0,0],[0,0])?d[6]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[6]=[0,0],d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",[0,145],d[7],f,f,[0,0],[0,0],f,f,d[6]).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.db.table(10).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(10).add({parentThreadKey:a[0],minThreadKey:d[1]==null?[-2147483648,0]:d[1],minLastActivityTimestampMs:d[0]==null?[0,1]:d[0],maxLastActivityTimestampMs:[0,1],maxThreadKey:[-2147483648,0],isLoadingBefore:d[3],isLoadingAfter:!1,hasMoreBefore:d[3],hasMoreAfter:!1}):(b.item,c.fe(c.db.table(10).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:d[2],isLoadingAfter:!1,hasMoreBefore:d[3],hasMoreAfter:!1})}))})}]):c.resolve():c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("CometListCellHoverButton.react",["fbt","ix","CometCircleButton.react","CometDeferredPopoverTrigger.react","CometEntryPointPopoverTrigger.react","CometLazyPopoverTrigger.react","FocusWithinHandler.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.hidden,e=a.label,f=a.onFocusChange,g=a.onHoverChange,l=a.onMenuStateChange,m=a.onPress,n=a.showNear,o=a.size,p=a.testid,q=k(function(a){l!=null&&l(a)},[l]),r=k(function(a,k,l,p,q){return j.jsx("div",{className:c("stylex").dedupe({"pointer-events-1":"mrt03zmi","position-1":"pmk7jnqg","top-1":"rk01pc8j","transform-0.1":"ke6wolob"},n===!0?{"end-1":"b5fwa0m2"}:{"end-1":"rm21btxo"},b?{"-webkit-clip-path-1":"s2gjlfnz","clip-1":"svngc6pa","clip-path-1":"kz676c5b","height-1":"ay7djpcl","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","width-1":"rfua0xdk"}:null),ref:a,children:j.jsx(c("FocusWithinHandler.react"),{onFocusChange:f,children:function(a){return j.jsx("div",{className:a?"":"kujm000c spb7xbtv bkmhp75w emlxlaya s45kfl79",children:j.jsx(c("CometCircleButton.react"),{color:"secondary",icon:d("fbicon")._(i("484387"),20),label:e!=null?e:h._(/*FBT_CALL*/"\u05ea\u05e4\u05e8\u05d9\u05d8"/*FBT_CALL*/),onHoverIn:function(a){l&&l(a),g&&g(!0)},onHoverOut:function(){p&&p(),g&&g(!1)},onPress:function(){m&&m(),k()},onPressIn:q,size:(a=o)!=null?a:36,testid:void 0,type:"overlay"})})}})})},[b,f,e,g,m,p,n,o]);p={align:"middle",onVisibilityChange:q,popoverProps:a.popoverProps,position:"below"};if(a.popoverTriggerType==="lazy")return j.jsx(c("CometLazyPopoverTrigger.react"),babelHelpers["extends"]({},p,{popoverResource:a.popoverResource,children:function(a,b){return r(a,b)}}));else if(a.popoverTriggerType==="entryPoint"){q=p.popoverProps;var s=babelHelpers.objectWithoutPropertiesLoose(p,["popoverProps"]);return j.jsx(c("CometEntryPointPopoverTrigger.react"),babelHelpers["extends"]({},s,{entryPointParams:a.entryPointParams,otherProps:q,popoverEntryPoint:a.popoverEntryPoint,preloadTrigger:"button_aggressive",children:function(a,b,c,d,e,f){return r(a,b,d,e,f)}}))}else return j.jsx(c("CometDeferredPopoverTrigger.react"),babelHelpers["extends"]({},p,{popoverResource:a.popoverResource,children:function(a,b){return r(a,b)}}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNotificationsDropdownMenuContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4982486218541369"}),null);
__d("MWQuickPromotionDesktopInterstitialUpsellQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5042485965865425"}),null);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5065791236788476"}),null);/*FB_PKG_DELIM*/
__d("LSGetParentThreadKey",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(e){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=[0,0]:(b=a.item,c[0]=b.parentThreadKey)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSUpdateFolderThreadSnippet",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.i64.neq(a[1],e)?b.resolve(c[0]=a[1]):b.seq([function(d){return b.ct(b.ftr(b.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(c){return b.i64.eq(c.parentThreadKey,a[0])&&b.i64.lt(c.lastReadWatermarkTimestampMs,c.lastActivityTimestampMs)})).then(function(a){return c[5]=a})},function(a){return c[0]=c[5]}])},function(d){return c[1]=a[2].get("all_read"),a[2],c[2]=a[2].get("unread_singular"),a[2],c[3]=a[2].get("unread_plural"),a[2],b.i64.eq(c[0],[0,0])?c[4]=c[1]:(b.i64.eq(c[0],[0,1])?c[5]=[b.i64.to_string(c[0]),c[2]].join(""):c[5]=[b.i64.to_string(c[0]),c[3]].join(""),c[4]=c[5]),b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({snippet:c[4],snippetStringHash:e,snippetStringArgument1:e,snippetAttribution:e,snippetAttributionStringHash:e})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSUpdateParentFolderReadWatermark",["LSGetParentThreadKey","LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return c.sp(b("LSGetParentThreadKey"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],[0,0])?c.seq([function(a){return c.sb(c.ftr(c.db.table(9).fetch([[[d[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(a){return c.i64.eq(a.parentThreadKey,d[0])&&c.i64.lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[1]=f:(b=a.item,d[1]=b.lastReadWatermarkTimestampMs)})},function(a){return c.i64.neq(d[1],f)?c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[1]})}):c.seq([function(a){return c.db.table(9).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=f:(b=a.item,d[3]=b.lastActivityTimestampMs)})},function(a){return c.i64.neq(d[3],f)?c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:d[3]})}):c.resolve()}])},function(e){return c.sp(b("LSUpdateFolderThreadSnippet"),d[0],f,a[1])}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpsertFolder",["LSUpdateFolderThreadSnippet"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.i64.neq(a[3],f)?c.resolve(d[0]=a[3]):c.seq([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=[0,0]:(b=a.item,d[3]=b.lastActivityTimestampMs)})},function(a){return d[0]=d[3]}])},function(b){return c.i64.neq(a[4],f)?c.resolve(d[1]=a[4]):c.seq([function(b){return c.sb(c.ftr(c.db.table(9).fetch([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.lt(b.lastReadWatermarkTimestampMs,b.lastActivityTimestampMs)}),[["lastReadWatermarkTimestampMs","ASC"]]).next().then(function(b,e){var g=b.done;b=b.value;return g?c.seq([function(b){return c.i64.neq(a[3],f)?c.resolve(d[5]=a[3]):c.seq([function(b){return c.db.table(9).fetchDesc([[[a[0]]],"parentThreadKeyLastActivityTimestampMs"]).next().then(function(b,c){var a=b.done;b=b.value;return a?d[6]=[0,0]:(c=b.item,d[6]=c.lastActivityTimestampMs)})},function(a){return d[5]=d[6]}])},function(a){return d[3]=d[5]}]):(e=b.item,d[3]=e.lastReadWatermarkTimestampMs)})},function(a){return d[1]=d[3]}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){e=b.done;b=b.value;return e?c.seq([function(b){return c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.lt(b.authorityLevel,[0,80])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[0],mailboxType:[0,0],threadType:[0,6],threadName:a[1],folderName:"",parentThreadKey:[0,0],threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:[0,0],muteExpireTimeMs:[0,0],snippet:"",isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:[0,80],ongoingCallState:[0,0],capabilities:[0,0],shouldRoundThreadPicture:!1})}]):(b.item,c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadName:a[1],folderName:"",parentThreadKey:[0,0],threadPictureUrl:a[2],lastActivityTimestampMs:d[0],lastReadWatermarkTimestampMs:d[1],removeWatermarkTimestampMs:[0,0],muteExpireTimeMs:[0,0],snippet:"",snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f,isAdminSnippet:!1,hasPersistentMenu:!1,disableComposerInput:!1,snippetHasEmoji:!1,authorityLevel:[0,80],ongoingCallState:[0,0],capabilities:[0,0],shouldRoundThreadPicture:!1})}))})},function(d){return c.sp(b("LSUpdateFolderThreadSnippet"),a[0],a[5],a[6])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);/*FB_PKG_DELIM*/
__d("LSGetFirstAvailableQuickReplyCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.sb(b.db.table(20).fetch(),[["ctaId","DESC"]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.ctaId,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSGetFirstAvailableThreadNullstateCTAID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[];return b.seq([function(a){return b.seq([function(a){return b.db.table(29).fetchDesc().next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=[0,1]:(d=a.item,c[0]=b.i64.add(d.ctaId,[0,1]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSSetMessagesViewedPlugin",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}),function(b){var c=b.update;b.item;return c({viewedPluginKey:a[3],viewedPluginContext:a[4]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSIssueInsertPersistentMenuItemsForThreadTask",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"insert_persistent_menu_items",[0,117],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);